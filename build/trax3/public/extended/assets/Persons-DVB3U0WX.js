import{_ as d}from"./DataLayout-2LVpN9Ff.js";import{f as n,g as l,o as a,c,d as i,u as _,w as v,F as x,Z as h,b as k}from"./app-BqYB4w7h.js";import y from"./PersonFilters-CTBB6_z5.js";import w from"./PersonResults-D4KCc9oH.js";import{u as P}from"./StoreSelector-eCG8qd9a.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./Select-I1X3nauV.js";import"./NeutralBadge-Cx27iNjU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChevronUpDownIcon-BxOM5Ujt.js";import"./LinkButton-wwdNtJLC.js";import"./AgentFilter-Bzph49mo.js";import"./AgentField-Cckzi0Yd.js";import"./TextInputWithCompletion-u-xIqChF.js";import"./InputError-_zuJ5dV-.js";import"./disposables-CuHKeC00.js";import"./InputLabel-B012P3ON.js";import"./PrimaryButton-JrsBxlP3.js";import"./FilterItems-DtKLW4qf.js";import"./FormModal--OgS4LYv.js";import"./transition-CSxLRhS2.js";import"./ConfirmModal-DdIInXQ7.js";import"./XapiProps-BVq1ckif.js";import"./moment-Cl4UOzQZ.js";const $={key:1,class:"text-gray-800 dark:text-white/90 text-center pt-12"},rt={__name:"Persons",setup(S){const{currentStore:u}=P(),e=n({agent:null}),f=n({}),r=l(0),p=n({...e}),s=l([]),m=()=>{axios.get("/trax/api/gateway/front/stores/"+u()+"/persons",{params:{agent:e.agent?JSON.stringify(e.agent):null}}).then(t=>{r.value++,s.value=t.data.data}).catch(t=>{r.value++,t.response&&t.response.status==422&&(p.agent=t.response.data.errors.agent[0])})};return(t,o)=>(a(),c(x,null,[i(_(h),{title:"Persons"}),i(d,{"side-menu-current":"Persons"},{default:v(()=>[i(y,{filters:e,options:f,counter:r.value,errors:p,onApply:o[0]||(o[0]=g=>m())},null,8,["filters","options","counter","errors"]),s.value.length?(a(),k(w,{key:0,class:"mt-8",items:s.value,agent:e.agent,onChanged:o[1]||(o[1]=g=>m())},null,8,["items","agent"])):(a(),c("div",$," Please, enter an agent to show the associated person. "))]),_:1})],64))}};export{rt as default};
