import{_ as N}from"./LogsLayout-DYikyiJe.js";import{f as F,o as i,c as r,d as s,u as e,w as n,F as c,Z as O,a as t,e as u,i as x,t as _,b as j,k as v}from"./app-BqYB4w7h.js";import{_ as R}from"./PrimaryButton-JrsBxlP3.js";import{r as S,a as z}from"./FormModal--OgS4LYv.js";import{r as A,_ as E}from"./ConfirmModal-DdIInXQ7.js";import{_ as g}from"./InputLabel-B012P3ON.js";import{_ as f}from"./Select-I1X3nauV.js";import{N as M}from"./NeutralBadge-Cx27iNjU.js";import{u as P}from"./CrudItems-BFkrHaNx.js";import{u as Z}from"./Logging-B97tV0no.js";import{r as q}from"./PencilSquareIcon-CqSWVHZD.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./transition-CSxLRhS2.js";import"./disposables-CuHKeC00.js";import"./ChevronUpDownIcon-BxOM5Ujt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoadItems-f7CjgfCr.js";const G={class:"rounded-lg shadow-md bg-white dark:ring-0 dark:bg-gray-800"},H={class:"p-5 border-b-2 border-gray-200 dark:border-gray-700"},J={class:"-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"},K=t("div",{class:"ml-4 mt-2 max-w-lg"},[t("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"}," Log Channels "),t("p",{class:"mt-1 text-sm text-gray-500"}," Create and configure log channels in order to see what happens in your LRS. ")],-1),Q={class:"ml-4 mt-2 flex-shrink-0"},W={key:0,class:"table-auto min-w-full divide-y divide-gray-300 dark:divide-gray-500"},X={class:"divide-y divide-gray-200 dark:divide-gray-700"},Y={class:"px-5 py-3"},ee={class:"text-sm font-medium text-gray-900 dark:text-white capitalize"},te={class:"px-5 py-3"},oe={class:"px-5 py-3"},se={class:"text-sm font-medium text-gray-900 dark:text-white"},le={class:"px-5 py-3"},ae={class:"flex space-x-4 justify-end items-center"},ie={key:1,class:"px-5 py-3 text-sm text-gray-500 dark:text-gray-400"},re={class:"px-6"},ne={class:"mt-5 px-6"},de={class:"mt-5 px-6"},je={__name:"LogChannels",setup(me){const a=F({id:null,type:"database",log_types:[],min_level:0}),{logChannelTypeOptions:k,logTypeOptions:C,logLevelOptions:V,logLevelDisplay:b,logTypeDisplay:w}=Z(),{createItem:L,updateItem:$,confirmCreateOrUpdateItem:I,deleteItem:T,confirmDeleteItem:U,loadedItems:y,isProcessingItem:h,itemFormVisible:d,deleteItemModalVisible:m}=P({url:"/trax/api/gateway/front/log-channels"},a);return(pe,l)=>(i(),r(c,null,[s(e(O),{title:"Log Channels"}),s(N,{"side-menu-current":"Log Channels"},{default:n(()=>[t("div",G,[t("div",H,[t("div",J,[K,t("div",Q,[s(R,{onClick:e(L),class:"flex"},{default:n(()=>[s(e(S),{class:"w-5 h-5 mr-2"}),u(" Channel ")]),_:1},8,["onClick"])])])]),e(y).length>0?(i(),r("table",W,[t("tbody",X,[(i(!0),r(c,null,x(e(y),(o,B)=>(i(),r("tr",{key:B},[t("td",Y,[t("div",ee,_(o.type),1)]),t("td",te,[(i(!0),r(c,null,x(o.log_types,(p,D)=>(i(),j(M,{key:D,class:"mr-1 mb-1"},{default:n(()=>[u(_(e(w)(p)),1)]),_:2},1024))),128))]),t("td",oe,[t("div",se,_(e(b)(o.min_level))+" + ",1)]),t("td",le,[t("div",ae,[s(e(q),{class:"w-5 h-5 hover:cursor-pointer text-indigo-500 hover:text-indigo-700 dark:text-fuchsia-400 dark:hover:text-fuchsia-500",onClick:p=>e($)(o)},null,8,["onClick"]),s(e(A),{class:"w-5 h-5 hover:cursor-pointer text-indigo-500 hover:text-indigo-700 dark:text-fuchsia-400 dark:hover:text-fuchsia-500",onClick:p=>e(T)(o)},null,8,["onClick"])])])]))),128))])])):(i(),r("div",ie," There is currently no log channel. ")),s(z,{title:"Log Channel",processing:e(h),modelValue:e(d),"onUpdate:modelValue":l[3]||(l[3]=o=>v(d)?d.value=o:null),onConfirm:e(I)},{default:n(()=>[t("div",re,[s(g,{value:"Type of channel"}),s(f,{id:"type",options:e(k),modelValue:a.type,"onUpdate:modelValue":l[0]||(l[0]=o=>a.type=o),class:"mt-1"},null,8,["options","modelValue"])]),t("div",ne,[s(g,{value:"Type(s) of logs"}),s(f,{id:"log_types",options:e(C),modelValue:a.log_types,"onUpdate:modelValue":l[1]||(l[1]=o=>a.log_types=o),class:"mt-1",multiple:""},null,8,["options","modelValue"])]),t("div",de,[s(g,{value:"From level"}),s(f,{id:"level",options:e(V),modelValue:a.min_level,"onUpdate:modelValue":l[2]||(l[2]=o=>a.min_level=o),class:"mt-1"},null,8,["options","modelValue"])])]),_:1},8,["processing","modelValue","onConfirm"]),s(E,{title:"Delete log channel",processing:e(h),modelValue:e(m),"onUpdate:modelValue":l[4]||(l[4]=o=>v(m)?m.value=o:null),onConfirm:e(U)},{default:n(()=>[u(" Are you sure you want to delete this log channel? ")]),_:1},8,["processing","modelValue","onConfirm"])])]),_:1})],64))}};export{je as default};
