import{_ as V}from"./AccessLayout-C1y39Yor.js";import{f as _,o as r,c as o,d as a,u as e,w as g,F as x,Z as T,a as t,i as B,t as l,e as u,j as c}from"./app-BqYB4w7h.js";import{_ as $}from"./PrimaryButton-JrsBxlP3.js";import{_ as D}from"./Select-I1X3nauV.js";import{N as F}from"./NeutralBadge-Cx27iNjU.js";import{u as P}from"./CrudItems-BFkrHaNx.js";import{_ as S}from"./ScrollToTop-jtdKJjCK.js";import{u as Y}from"./FilterItems-DtKLW4qf.js";import{h as j}from"./moment-Cl4UOzQZ.js";import{u as H}from"./XapiProps-BVq1ckif.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./ChevronUpDownIcon-BxOM5Ujt.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoadItems-f7CjgfCr.js";import"./ChevronUpIcon-CDU9mihh.js";const L={class:"rounded-lg shadow-md bg-white dark:ring-0 dark:bg-gray-800"},A={class:"p-5 border-b-2 border-gray-200 dark:border-gray-700"},J=t("div",{class:"-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"},[t("div",{class:"ml-4 mt-2 max-w-lg"},[t("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"}," CMI5 Tokens "),t("p",{class:"mt-1 text-sm text-gray-500"}," CMI5 tokens are created with the CMI5 tokens API. Here is the list of existing tokens. Don't forget to create a deletion task. ")])],-1),O={class:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mt-3"},q={class:"relative flex flex-row"},E={key:0,class:"table-auto min-w-full divide-y divide-gray-300 dark:divide-gray-500"},U={class:"divide-y divide-gray-200 dark:divide-gray-700"},W={class:"px-5 py-3"},X={class:"text-sm font-medium text-gray-900 dark:text-gray-300"},Z={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},z={class:"px-5 py-3 text-xs text-gray-500 dark:text-gray-400"},G={class:"px-5 py-3 text-xs text-gray-500 dark:text-gray-400"},K={key:1,class:"px-5 py-3 text-sm text-gray-500 dark:text-gray-400"},Q={key:2,class:"px-5 py-3 text-sm text-gray-500 dark:text-gray-400"},R={key:3,class:"text-center pt-6 pb-6"},bt={__name:"Cmi5Tokens",props:{stores:{type:Object,required:!0}},setup(y){const{agentIdByJson:f}=H(),k=y,h=()=>{let p=[...k.stores.choice];return p.unshift({id:null,name:"All stores"}),p},i=_({store:null,guard:"cmi5-token"}),v=_({}),{loadItems:b,loadMoreItems:I,loadedItems:m,loadedCounter:C,hasMoreItems:w,loadingItems:d}=P({url:"/trax/api/gateway/front/clients",filters:i,baseParams:{},settings:{sortProp:"created_at",ascending:!1,more:!0,autoload:!1}},{}),{applyFilters:M}=Y({filters:i,options:v,counter:C},{localStorage:"cmi5-tokens-filters",callback:b});return(p,n)=>(r(),o(x,null,[a(e(T),{title:"CMI5 Tokens"}),a(V,{"side-menu-current":"CMI5 Tokens"},{default:g(()=>[t("div",L,[t("div",A,[J,t("div",O,[t("div",q,[a(D,{id:"store-filter",options:h(),modelValue:i.store,"onUpdate:modelValue":[n[0]||(n[0]=s=>i.store=s),n[1]||(n[1]=s=>e(M)())]},null,8,["options","modelValue"])])])]),!e(d)&&e(m).length>0?(r(),o("table",E,[t("tbody",U,[(r(!0),o(x,null,B(e(m),(s,N)=>(r(),o("tr",{key:N},[t("td",W,[t("div",X,l(s.cors),1),t("div",Z,l(e(f)(JSON.parse(s.settings.agent))),1)]),t("td",z,l(e(j)(s.created_at).format("YYYY-MM-DD HH:mm:ss")),1),t("td",G,[u(" Store: "),a(F,null,{default:g(()=>[u(l(s.store),1)]),_:2},1024)])]))),128))])])):c("",!0),!e(d)&&e(m).length==0?(r(),o("div",K," There is currently no CMI5 token matching with your search criteria. ")):c("",!0),e(d)?(r(),o("div",Q," Loading... ")):c("",!0),e(w)?(r(),o("div",R,[a($,{processing:e(d),onClick:e(I)},{default:g(()=>[u(" Load More ")]),_:1},8,["processing","onClick"])])):c("",!0),a(S)])]),_:1})],64))}};export{bt as default};
