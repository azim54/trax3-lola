import{_ as V}from"./AccessLayout-C1y39Yor.js";import{f as S,h as I,o as l,c as i,d as o,u as t,w as d,F as f,Z as A,a as s,e as n,i as N,t as u,j as p,k as $}from"./app-BqYB4w7h.js";import{_ as U}from"./PrimaryButton-JrsBxlP3.js";import{r as B,a as F}from"./FormModal--OgS4LYv.js";import{_ as y}from"./InputLabel-B012P3ON.js";import{_ as h}from"./TextInput-Bd33mpYb.js";import{N as k}from"./NeutralBadge-Cx27iNjU.js";import{u as L}from"./CrudItems-BFkrHaNx.js";import{r as R}from"./PencilSquareIcon-CqSWVHZD.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./transition-CSxLRhS2.js";import"./disposables-CuHKeC00.js";import"./InputError-_zuJ5dV-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LoadItems-f7CjgfCr.js";const j={class:"rounded-lg shadow-md bg-white dark:ring-0 dark:bg-gray-800"},P={class:"p-5 border-b-2 border-gray-200 dark:border-gray-700"},T={class:"-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"},E=s("div",{class:"ml-4 mt-2 max-w-lg"},[s("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"}," Stores Creation "),s("p",{class:"mt-1 text-sm text-gray-500"}," Create independent stores to partition your xAPI data in the LRS. ")],-1),Z={class:"ml-4 mt-2 flex-shrink-0"},q={key:0,class:"table-auto min-w-full divide-y divide-gray-300 dark:divide-gray-500"},z={class:"divide-y divide-gray-200 dark:divide-gray-700"},D={class:"px-5 py-3"},O={class:"text-sm font-medium text-gray-900 dark:text-gray-300"},G={class:"px-5 py-3"},H={class:"px-5 py-3"},J={key:0,class:"text-right text-sm text-red-600 dark:text-red-400"},K={key:1,class:"flex space-x-4 justify-end items-center"},M={key:1,class:"px-5 py-3 text-sm text-gray-500 dark:text-gray-400"},Q={class:"px-6"},W={class:"mt-5 px-6"},X={key:0,class:"pl-1 pt-1 text-sm text-gray-500 dark:text-gray-500"},Y=s("span",{class:"text-orange-600 dark:text-orange-400"},"and it is not modifiable!",-1),ee={key:1,class:"pl-1 pt-3 text-sm text-gray-500 dark:text-gray-500"},Se={__name:"StoresCreation",setup(te){const a=S({id:null,slug:"",name:""}),c=I(()=>a.name.replaceAll(" ","-").replace(/[^a-zA-Z0-9-_]/g,"").toLowerCase().substring(0,36)),{createItem:v,updateItem:b,confirmCreateOrUpdateItem:g,loadedItems:x,isProcessingItem:C,itemFormVisible:_,itemFormErrors:m}=L({url:"/trax/api/gateway/front/stores"},a);return(se,r)=>(l(),i(f,null,[o(t(A),{title:"Stores Creation"}),o(V,{"side-menu-current":"Stores Creation"},{default:d(()=>[s("div",j,[s("div",P,[s("div",T,[E,s("div",Z,[o(U,{onClick:t(v),class:"flex"},{default:d(()=>[o(t(B),{class:"w-5 h-5 mr-2"}),n(" Store ")]),_:1},8,["onClick"])])])]),t(x).length>0?(l(),i("table",q,[s("tbody",z,[(l(!0),i(f,null,N(t(x),(e,w)=>(l(),i("tr",{key:w},[s("td",D,[s("div",O,u(e.name),1)]),s("td",G,[o(k,null,{default:d(()=>[n(u(e.slug),1)]),_:2},1024)]),s("td",H,[e.status!=="ready"?(l(),i("div",J,u(e.status),1)):p("",!0),e.status!=="deleting"?(l(),i("div",K,[o(t(R),{class:"w-5 h-5 hover:cursor-pointer text-indigo-500 hover:text-indigo-700 dark:text-fuchsia-400 dark:hover:text-fuchsia-500",onClick:re=>t(b)(e)},null,8,["onClick"])])):p("",!0)])]))),128))])])):(l(),i("div",M," There is currently no store. ")),o(F,{title:"Store",processing:t(C),modelValue:t(_),"onUpdate:modelValue":r[5]||(r[5]=e=>$(_)?_.value=e:null),onConfirm:t(g)},{default:d(()=>[s("div",Q,[o(y,{for:"name",value:"Name"}),o(h,{id:"name",placeholder:"Name",modelValue:a.name,"onUpdate:modelValue":r[0]||(r[0]=e=>a.name=e),error:t(m).name,"onUpdate:error":r[1]||(r[1]=e=>t(m).name=e),onApply:t(g),class:"mt-1"},null,8,["modelValue","error","onApply"])]),s("div",W,[o(y,{for:"slug",value:"Slug"}),o(h,{id:"slug",placeholder:"Slug",modelValue:a.slug,"onUpdate:modelValue":r[2]||(r[2]=e=>a.slug=e),error:t(m).slug,"onUpdate:error":r[3]||(r[3]=e=>t(m).slug=e),disabled:a.id!==null,lock:!0,onApply:t(g),class:"mt-1"},null,8,["modelValue","error","disabled","onApply"]),a.id===null?(l(),i("p",X,[n(" The slug is used in the API endpoint URL. It must be unique, with a maximum length of 36 chars, "),Y])):p("",!0),a.id===null&&c.value.length>0?(l(),i("p",ee,[n(" Recommended slug: "),o(k,{class:"cursor-pointer",onClick:r[4]||(r[4]=e=>a.slug=c.value)},{default:d(()=>[n(u(c.value),1)]),_:1})])):p("",!0)])]),_:1},8,["processing","modelValue","onConfirm"])])]),_:1})],64))}};export{Se as default};
