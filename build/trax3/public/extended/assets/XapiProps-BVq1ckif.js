import{h as o}from"./moment-Cl4UOzQZ.js";function P(){return{actorType:p,actorName:s,verb:a,objectType:u,objectName:f,storedDate:r,storedTime:l,activityType:d,activityName:c,activityJson:_,activityIsProfile:b,agentId:x,agentIdBySid:m,agentIdByJson:I,agentJson:y,agentJsonIdBySid:T,agentName:h,agentCountMembers:g,documentData:J}}const p=e=>e.objectType=="Group"?"Group":"Agent",s=e=>{let n="anonymous";return e.name?n=e.name:(e.mbox&&(n=e.mbox.substring(7)),e.mbox_sha1sum&&(n=e.mbox_sha1sum),e.openid&&(n=e.openid),e.account&&(n=e.account.name)),n},a=e=>String(e.id).split("/").pop(),u=e=>e.objectType?e.objectType:"Activity",f=e=>e.definition&&e.definition.name?e.definition.name[Object.keys(e.definition.name)[0]]:e.id?String(e.id).split("/").pop():e.objectType=="Agent"||e.objectType=="Group"?s(e):"",r=e=>o(e).format("YYYY-MM-DD"),l=e=>o(e).format("HH:mm:ss"),d=e=>e.definition&&e.definition.type?String(e.definition.type).split("/").pop():"",c=e=>e.definition&&e.definition.name?e.definition.name[Object.keys(e.definition.name)[0]]:"",_=e=>({id:e.iri,definition:e.definition}),b=e=>e.definition&&e.definition.type=="http://adlnet.gov/expapi/activities/profile",x=e=>{let n=e.sid_field_1.replace("mbox::","");return e.sid_field_2?n+" | "+e.sid_field_2:n},y=e=>{let n={objectType:e.is_group?"Group":"Agent"};return e.name&&(n.name=e.name),e.sid_type=="mbox"&&(n.mbox=e.sid_field_1),e.sid_type=="mbox_sha1sum"&&(n.mbox_sha1sum=e.sid_field_1),e.sid_type=="openid"&&(n.openid=e.sid_field_1),e.sid_type=="account"&&(n.account={name:e.sid_field_1,homePage:e.sid_field_2}),e.members.length&&(n.member=e.members),n},h=e=>e.name?e.name:"",g=e=>e.members.length,T=e=>{let n={},i=e.split("::")[0];if(i=="mbox"&&(n.mbox=e.replace("mbox::","")),i=="mbox_sha1sum"&&(n.mbox_sha1sum=e.replace("mbox_sha1sum::","")),i=="openid"&&(n.openid=e.replace("openid::","")),i=="account"){let t=e.replace("account::","").split("@");n.account={name:t[0],homePage:t[1]}}return n},m=e=>(e.split("::")[0]=="account"?e.replace("@"," | "):e).replace("mbox::mailto:","").replace("mbox_sha1sum::","").replace("openid::","").replace("account::",""),S=e=>{if(e.mbox)return"mbox::"+e.mbox;if(e.mbox_sha1sum)return"mbox_sha1sum::"+e.mbox_sha1sum;if(e.openid)return"openid::"+e.openid;if(e.account)return"account::"+e.account.name+"@"+e.account.homePage},I=e=>m(S(e)),J=e=>e.content_type=="application/json"?JSON.parse(e.content):e.content;export{P as u};
