import{_ as b}from"./AccessLayout-C1y39Yor.js";import{g as m,o as n,c as l,d as i,u as g,w as a,F as v,Z as x,e as j,a as y,b as k}from"./app-BqYB4w7h.js";import{_ as D}from"./InputLabel-B012P3ON.js";import{_ as h}from"./Select-I1X3nauV.js";import{_ as w}from"./JobsManagement-BhfjSFNe.js";import{_ as V}from"./JobLogs-CCjrTMq8.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./NeutralBadge-Cx27iNjU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChevronUpDownIcon-BxOM5Ujt.js";import"./FormModal--OgS4LYv.js";import"./PrimaryButton-JrsBxlP3.js";import"./transition-CSxLRhS2.js";import"./disposables-CuHKeC00.js";import"./ConfirmModal-DdIInXQ7.js";import"./moment-Cl4UOzQZ.js";import"./TextInput-Bd33mpYb.js";import"./InputError-_zuJ5dV-.js";import"./PencilSquareIcon-CqSWVHZD.js";import"./DataPanel-eTawuoZh.js";import"./CrudItems-BFkrHaNx.js";import"./LoadItems-f7CjgfCr.js";import"./FilterItems-DtKLW4qf.js";const B={class:"px-6"},P={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},p="/trax/api/gateway/front/jobs/stores-deletion",ae={__name:"StoresDeletion",setup(S){const d={store_id:"1"},t=m([{id:"1",name:"Default store"}]),u=r=>new Promise((e,s)=>{axios.get("/trax/api/gateway/front/stores").then(_=>{t.value=_.data.data.filter(c=>c.status==="ready"),o.value.form.store_id=t.value[0].id,e()})}),f=(r,e)=>e=="store_id"?r.settings.store_id:r[e]===void 0?null:r[e],o=m(null);return(r,e)=>(n(),l(v,null,[i(g(x),{title:"Stores Deletion"}),i(b,{"side-menu-current":"Stores Deletion"},{default:a(()=>[i(w,{endpoint:p,title:"Stores Deletion",jobProps:d,afterPropLoading:f,beforeItemLoading:u,repeatable:!1,formDisabled:t.value.length<=1,onInit:e[1]||(e[1]=s=>o.value=s)},{description:a(()=>[j(" You can create jobs to delete stores. ")]),form:a(()=>[y("div",B,[i(D,{value:"Store"}),t.value.length<=1?(n(),l("div",P," There is only one store available, so you can't delete it. Before deleting this store, you should create a new one. ")):(n(),k(h,{key:1,id:"store",options:t.value,modelValue:o.value.form.store_id,"onUpdate:modelValue":e[0]||(e[0]=s=>o.value.form.store_id=s),class:"mt-1"},null,8,["options","modelValue"]))])]),feedback:a(()=>[i(V,{job:o.value.job,endpoint:p},null,8,["job"])]),_:1},8,["formDisabled"])]),_:1})],64))}};export{ae as default};
