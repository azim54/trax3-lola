import{_ as I}from"./AccessLayout-C1y39Yor.js";import{f as R,o as l,c as d,d as s,u as e,w as p,F as g,Z as S,a as r,e as h,i as $,t as v,k as w}from"./app-BqYB4w7h.js";import{_ as P}from"./PrimaryButton-JrsBxlP3.js";import{r as T,a as B}from"./FormModal--OgS4LYv.js";import{r as F,_ as N}from"./ConfirmModal-DdIInXQ7.js";import{_ as u}from"./InputLabel-B012P3ON.js";import{_ as c}from"./TextInput-Bd33mpYb.js";import{u as j}from"./CrudItems-BFkrHaNx.js";import{r as D}from"./PencilSquareIcon-CqSWVHZD.js";import"./AuthenticatedLayout-DmkbqqwL.js";import"./TopBar-CSycyVTE.js";import"./ApplicationLogo-CbRF8qXe.js";import"./form-BD1T68Go.js";import"./use-resolve-button-type-zbaL4VAc.js";import"./calculate-active-index-CJPhqQS-.js";import"./use-text-value-5zAQL0RU.js";import"./use-tree-walker-CEHhLUFs.js";import"./transition-CSxLRhS2.js";import"./disposables-CuHKeC00.js";import"./InputError-_zuJ5dV-.js";import"./LoadItems-f7CjgfCr.js";const E={class:"rounded-lg shadow-md bg-white dark:ring-0 dark:bg-gray-800"},O={class:"p-5 border-b-2 border-gray-200 dark:border-gray-700"},H={class:"-ml-4 -mt-2 flex flex-wrap items-center justify-between sm:flex-nowrap"},M=r("div",{class:"ml-4 mt-2 max-w-lg"},[r("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-gray-100"}," LRSs "),r("p",{class:"mt-1 text-sm text-gray-500"}," LRS connections are helpful to pull or push xAPI data from/to external conformant LRSs. ")],-1),W={class:"ml-4 mt-2 flex-shrink-0"},Z={key:0,class:"table-auto min-w-full divide-y divide-gray-300 dark:divide-gray-500"},q={class:"divide-y divide-gray-200 dark:divide-gray-700"},z={class:"px-5 py-3"},G={class:"text-sm font-medium text-gray-900 dark:text-gray-300"},J={class:"px-5 py-3"},K={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Q={class:"px-5 py-3"},X={class:"flex space-x-4 justify-end items-center"},Y={key:1,class:"px-5 py-3 text-sm text-gray-500 dark:text-gray-400"},ee={class:"px-6"},te={class:"mt-5 px-6"},oe={class:"mt-5 px-6"},re={class:"mt-5 px-6"},Le={__name:"LrsConnections",setup(se){const n=R({id:null,name:"",endpoint:"",username:"",password:""}),k=(m,t)=>t=="username"||t=="password"?"":t=="endpoint"?m.settings.endpoint:m[t]===void 0?null:m[t],{createItem:V,updateItem:b,confirmCreateOrUpdateItem:i,deleteItem:C,confirmDeleteItem:L,loadedItems:x,isProcessingItem:_,itemFormVisible:f,deleteItemModalVisible:y,itemFormErrors:a}=j({url:"/trax/api/gateway/front/connections/lrs"},n,{afterPropLoading:k});return(m,t)=>(l(),d(g,null,[s(e(S),{title:"LRS Connections"}),s(I,{"side-menu-current":"LRS Connections"},{default:p(()=>[r("div",E,[r("div",O,[r("div",H,[M,r("div",W,[s(P,{onClick:e(V),class:"flex"},{default:p(()=>[s(e(T),{class:"w-5 h-5 mr-2"}),h(" LRS ")]),_:1},8,["onClick"])])])]),e(x).length>0?(l(),d("table",Z,[r("tbody",q,[(l(!0),d(g,null,$(e(x),(o,U)=>(l(),d("tr",{key:U},[r("td",z,[r("div",G,v(o.name),1)]),r("td",J,[r("div",K,v(o.settings.endpoint),1)]),r("td",Q,[r("div",X,[s(e(D),{class:"w-5 h-5 hover:cursor-pointer text-indigo-500 hover:text-indigo-700 dark:text-fuchsia-400 dark:hover:text-fuchsia-500",onClick:A=>e(b)(o)},null,8,["onClick"]),s(e(F),{class:"w-5 h-5 hover:cursor-pointer text-indigo-500 hover:text-indigo-700 dark:text-fuchsia-400 dark:hover:text-fuchsia-500",onClick:A=>e(C)(o)},null,8,["onClick"])])])]))),128))])])):(l(),d("div",Y," There is currently no LRS connection. ")),s(B,{title:"LRS",processing:e(_),modelValue:e(f),"onUpdate:modelValue":t[8]||(t[8]=o=>w(f)?f.value=o:null),onConfirm:e(i)},{default:p(()=>[r("div",ee,[s(u,{for:"name",value:"Name"}),s(c,{id:"name",placeholder:"My LRS",modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=o=>n.name=o),error:e(a).name,"onUpdate:error":t[1]||(t[1]=o=>e(a).name=o),onApply:e(i),class:"mt-1"},null,8,["modelValue","error","onApply"])]),r("div",te,[s(u,{for:"endpoint",value:"Endpoint"}),s(c,{id:"endpoint",placeholder:"http://my.lrs.endpoint",modelValue:n.endpoint,"onUpdate:modelValue":t[2]||(t[2]=o=>n.endpoint=o),error:e(a).endpoint,"onUpdate:error":t[3]||(t[3]=o=>e(a).endpoint=o),onApply:e(i),class:"mt-1"},null,8,["modelValue","error","onApply"])]),r("div",oe,[s(u,{for:"username",value:"Username (Basic HTTP)"}),s(c,{id:"username",placeholder:n.id?"Only if you want to change it":"username",modelValue:n.username,"onUpdate:modelValue":t[4]||(t[4]=o=>n.username=o),error:e(a).username,"onUpdate:error":t[5]||(t[5]=o=>e(a).username=o),onApply:e(i),class:"mt-1"},null,8,["placeholder","modelValue","error","onApply"])]),r("div",re,[s(u,{for:"password",value:"Password (Basic HTTP)"}),s(c,{id:"password",type:"password",placeholder:n.id?"Only if you want to change it":"password",modelValue:n.password,"onUpdate:modelValue":t[6]||(t[6]=o=>n.password=o),error:e(a).password,"onUpdate:error":t[7]||(t[7]=o=>e(a).password=o),onApply:e(i),class:"mt-1"},null,8,["placeholder","modelValue","error","onApply"])])]),_:1},8,["processing","modelValue","onConfirm"]),s(N,{title:"Delete connection",processing:e(_),modelValue:e(y),"onUpdate:modelValue":t[9]||(t[9]=o=>w(y)?y.value=o:null),onConfirm:e(L)},{default:p(()=>[h(" Are you sure you want to delete this connection? We will check if there are some jobs using this connection before deleting it. ")]),_:1},8,["processing","modelValue","onConfirm"])])]),_:1})],64))}};export{Le as default};
